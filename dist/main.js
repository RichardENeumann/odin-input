(()=>{const e=document.getElementById("email"),t=document.getElementById("username");function a(e,t=250){let a;return(...n)=>{clearTimeout(a),a=setTimeout((()=>{e.apply(this,n)}),t)}}e.addEventListener("input",(()=>{e.validity.typeMismatch?e.setCustomValidity("Please enter a valid email address."):e.setCustomValidity("")}));const n=a((async function(){const e=new URLSearchParams({username:t.value}),a=await fetch(`./logic/checkuser.php?${e}`),n=await a.text();JSON.parse(n).valid||t.setCustomValidity("This username is already taken.")}),500);t.addEventListener("input",n),t.addEventListener("input",(()=>{t.validity.tooShort&&t.setCustomValidity("The username needs to be at least 8 characters long."),t.validity.tooLong?t.setCustomValidity("The username can not exceed 20 characters."):t.setCustomValidity("")}));const i=document.getElementById("password"),s=document.getElementById("pwConfirm"),d=a((function(...e){let t;e.forEach((a=>{t=a.value===e[0].value})),console.log(t)}),500);i.addEventListener("input",(()=>{d(i,s)})),s.addEventListener("input",(()=>{d(i,s)}))})();